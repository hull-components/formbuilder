this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["modal/edit"]=function(l,t,i,e,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,l.helpers),o=o||{};var n,a="",d="function",s=this.escapeExpression;return a+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h4 class="modal-title">Editing '+s((n=t&&t.options,n=null==n||n===!1?n:n.title,typeof n===d?n.apply(t):n))+'</h4>\n    </div>\n    <div class="modal-body">\n      <div data-hull-component=\'builder@formbuilder\' data-hull-id="'+s((n=t&&t.form,n=null==n||n===!1?n:n.id,typeof n===d?n.apply(t):n))+'"></div>\n    </div>\n  </div>\n</div>\n'},Hull.templates._default["modal/modal"]=function(l,t,i,e,o){function n(l,t){var e,o="";return o+='\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h4 class="modal-title" id="myModalLabel">'+r((e=l&&l.options,e=null==e||e===!1?e:e.title,typeof e===m?e.apply(l):e))+'</h4>\n      </div>\n      <div class="modal-body">\n        ',e=i["if"].call(l,l&&l.displayForm,{hash:{},inverse:h.program(4,d,t),fn:h.program(2,a,t),data:t}),(e||0===e)&&(o+=e),o+="\n      </div>\n    </div>\n  </div>\n"}function a(l){var t,i="";return i+="\n        <div data-hull-component='form@formbuilder' data-hull-id=\""+r((t=l&&l.form,t=null==t||t===!1?t:t.id,typeof t===m?t.apply(l):t))+'"></div>\n        '}function d(){return"\n        <div data-hull-component='login/shopify@hull' data-hull-redirect-on-login=\"false\"></div>\n        "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,l.helpers),o=o||{};var s,m="function",r=this.escapeExpression,h=this;return s=i["if"].call(t,t&&t.displayModal,{hash:{},inverse:h.noop,fn:h.program(1,n,o),data:o}),s||0===s?s:""},Hull.component({refreshEvents:["hull.auth.login"],templates:["modal","edit"],datasources:{form:":id"},initialize:function(){this.modalOpened=!1,this.sandbox.on("form.edit",function(l){this.render("edit",{formName:l,displayModal:!0})},this),this.sandbox.on("form.saved",function(){this.hide()},this),this.$el.on("hide.bs.modal",function(){this.modalOpened=!1}),this.$el.on("show.bs.modal",function(){this.modalOpened=!1})},beforeRender:function(l){var t=l.form.uid,i=!1;l.me&&l.me.profile&&l.me.profile[t]&&(l.formData=i=l.me.profile[t]),l.formComplete=i,l.displayForm=this.loggedIn()&&!l.formComplete,l.displayModal=!this.loggedIn()||!l.formComplete},afterRender:function(l){var t=this;l.displayModal?setTimeout(function(){t.show()},this.options.delay||1e3):this.hide()},show:function(){this.modalOpened||this.$el.modal("show")},hide:function(){this.$el.modal("hide")}});