this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["modal/edit"]=function(t,l,i,e,o){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),o=o||{};var n,a="",d="function",s=this.escapeExpression;return a+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h4 class="modal-title">Editing '+s((n=l&&l.options,n=null==n||n===!1?n:n.title,typeof n===d?n.apply(l):n))+'</h4>\n    </div>\n    <div class="modal-body">\n      <div data-hull-component=\'builder@formbuilder\' data-hull-id="entity:'+s((n=l&&l.options,n=null==n||n===!1?n:n.formName,typeof n===d?n.apply(l):n))+'"></div>\n    </div>\n  </div>\n</div>\n'},Hull.templates._default["modal/modal"]=function(t,l,i,e,o){function n(t,l){var e,o="";return o+='\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h4 class="modal-title" id="myModalLabel">'+r((e=t&&t.options,e=null==e||e===!1?e:e.title,typeof e===m?e.apply(t):e))+'</h4>\n      </div>\n      <div class="modal-body">\n        ',e=i["if"].call(t,t&&t.displayForm,{hash:{},inverse:h.program(4,d,l),fn:h.program(2,a,l),data:l}),(e||0===e)&&(o+=e),o+="\n      </div>\n    </div>\n  </div>\n"}function a(t){var l,i="";return i+="\n        <div data-hull-component='form@formbuilder' data-hull-id=\""+r((l=t&&t.form,l=null==l||l===!1?l:l.id,typeof l===m?l.apply(t):l))+'"></div>\n        '}function d(){return"\n        <div data-hull-component='login/shopify@hull' data-hull-redirect-on-login=\"false\"></div>\n        "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,t.helpers),o=o||{};var s,m="function",r=this.escapeExpression,h=this;return s=i["if"].call(l,l&&l.displayModal,{hash:{},inverse:h.noop,fn:h.program(1,n,o),data:o}),s||0===s?s:""},Hull.component({refreshEvents:["hull.auth.login"],templates:["modal","edit"],datasources:{form:":id"},initialize:function(){this.modalOpened=!1,this.sandbox.on("form.edit",function(t){this.render("edit",{formName:t,displayModal:!0})},this),this.sandbox.on("form.saved",function(){this.hide()},this),this.$el.on("hide.bs.modal",function(){this.modalOpened=!1}),this.$el.on("show.bs.modal",function(){this.modalOpened=!1})},beforeRender:function(t){var l=t.form.uid,i=!1;t.me&&t.me.profile&&t.me.profile[l]&&(t.formData=i=t.me.profile[l]),t.formComplete=i,t.displayForm=this.loggedIn()&&!t.formComplete,t.displayModal=!this.loggedIn()||!t.formComplete},afterRender:function(t){var l=this;t.displayModal?setTimeout(function(){l.show()},this.options.delay||1e3):this.hide()},show:function(){this.modalOpened||this.$el.modal("show")},hide:function(){this.$el.modal("hide")}});