this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["modal/edit"]=function(t,l,o,i,e){this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),e=e||{};var n,a="",s="function",d=this.escapeExpression;return a+='<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h4 class="modal-title">Editing '+d((n=l&&l.options,n=null==n||n===!1?n:n.title,typeof n===s?n.apply(l):n))+'</h4>\n    </div>\n    <div class="modal-body">\n      <div data-hull-component=\'builder@formbuilder\' data-hull-id="entity:'+d((n=l&&l.options,n=null==n||n===!1?n:n.formName,typeof n===s?n.apply(l):n))+'"></div>\n    </div>\n  </div>\n</div>\n'},Hull.templates._default["modal/modal"]=function(t,l,o,i,e){function n(t,l){var i,e="";return e+='\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h4 class="modal-title" id="myModalLabel">'+r((i=t&&t.options,i=null==i||i===!1?i:i.title,typeof i===m?i.apply(t):i))+'</h4>\n      </div>\n      <div class="modal-body">\n        ',i=o["if"].call(t,t&&t.displayForm,{hash:{},inverse:h.program(4,s,l),fn:h.program(2,a,l),data:l}),(i||0===i)&&(e+=i),e+="\n      </div>\n    </div>\n  </div>\n"}function a(t){var l,o="";return o+="\n        <div data-hull-component='form@formbuilder' data-hull-id=\"entity:"+r((l=t&&t.options,l=null==l||l===!1?l:l.formName,typeof l===m?l.apply(t):l))+'"></div>\n        '}function s(){return"\n        <div data-hull-component='login/shopify@hull' data-hull-redirect-on-login=\"false\"></div>\n        "}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),e=e||{};var d,m="function",r=this.escapeExpression,h=this;return d=o["if"].call(l,l&&l.displayModal,{hash:{},inverse:h.noop,fn:h.program(1,n,e),data:e}),d||0===d?d:""},Hull.component({templates:["modal","edit"],refreshEvents:["hull.auth.login"],initialize:function(){this.modalOpened=!1,this.sandbox.on("form.edit",function(t){console.warn("Edit",t),this.render("edit",{formName:t,displayModal:!0})},this),this.sandbox.on("form.saved",function(){this.hide()},this),this.$el.on("hide.bs.modal",function(){console.warn("Modal Hide",this,arguments),this.modalOpened=!1}),this.$el.on("show.bs.modal",function(){console.warn("Modal Show",this,arguments),this.modalOpened=!1})},beforeRender:function(t){var l=!1;t.me&&t.me.profile&&t.me.profile[this.options.formName]&&(t.formData=l=t.me.profile[this.options.formName]),t.formComplete=l,t.displayForm=this.loggedIn()&&!t.formComplete,t.displayModal=!this.loggedIn()||!t.formComplete},afterRender:function(t){var l=this;t.displayModal?setTimeout(function(){l.show()},this.options.delay||1e3):this.hide()},show:function(){this.modalOpened||this.$el.modal("show")},hide:function(){this.$el.modal("hide")}});